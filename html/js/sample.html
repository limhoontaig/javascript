<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <script>
    class Rectangle {
      constructor(height, width) {
        this.height = height;
        this.width = width;
      }
      get area() {
        return this.calcArea();
      }
      calcArea () {
        return this.height * this.width;
      }
    }
    const square = new Rectangle(10,10)
    console.log(`Rectangle Area: ${square.area}`)

    class Students {
      constructor (name, koreanScore, englishScore) {
        this.name = name; 
        this.koreanScore = koreanScore; 
        this.englishScore = englishScore; 
      } 
      
      sum () { 
        return (this.koreanScore + this.englishScore); 
      } 
      info () { 
        return `name: ${this.name}, total: ${this.sum()}`;
      }
    } 
    const stu001 = new Students('mina', 100, 70); 
    const stu002 = new Students('lily', 90, 60); 
    console.log(stu001); // Students { name: 'mina', koreanScore: 100, englishScore: 70 } 
    console.log(stu002); // Students { name: 'lily', koreanScore: 90, englishScore: 60 } 
    console.log(stu001.sum()); // 170 
    console.log(stu002.sum()); // 150 
    console.log(stu001.info()); // name: mina, total: 170 
    console.log(stu002.info()); // name: lily, total: 150 // stu002.sum 변경 
    stu002.sum = function () { 
      return (this.koreanScore + this.englishScore + 10); 
    } 
    console.log(stu002.info()); // name: lily, total: 160

  </script>
  <script>
    class ExtentionStudents extends Students { 
      constructor (name, koreanScore, englishScore, mathScore) { 
        super(name, koreanScore, englishScore); 
        this.mathScore = mathScore; 
      } 
      total () { 
        return (super.sum() + this.mathScore); 
      } 
    } 
    const stu004 = new ExtentionStudents('rose', 100, 80, 60); 
    console.log(stu004); // { name: 'rose', koreanScore: 100, englishScore: 80, mathScore: 60 } 
    console.log(stu004.total()); // 240

    // map function example
    // 자바스크립트의 map함수는 callback함수 실행한 결과 반환값으로 배열의 길이, 순서를 유지한 새로운 배열을 만듭니다.
    // arr.map(callback(currentValue[, index[, array]])[, thisArg])
    
    // example 1. 배열 속 숫자의 제곱을 구한 새로운 숫자배열 만들기
    
    const numbers = [1, 2, 3, 4, 5, 4, 3, 2, 1]; // 기존 배열
    // map1 - callback함수를 직접 작성
    const map1 = numbers.map(currentNumber => currentNumber * currentNumber);
    console.log('map1 =', map1);

    // map2 - callback함수 선언 후 이용
    function calcDouble(currentNumber) {
      // Math.pow(x, y) - x의 y 제곱을 반환합니다.
      return Math.pow(currentNumber, 2);
    }
    const map2 = numbers.map(calcDouble);
    console.log('map2 =', map2);

    //2. 숫자배열로 숫자값과 인덱스를 갖는 오브젝트 배열 만들기
    const numbersIndex = [1, 3, 5, 7, 9];
    const objectArr = numbersIndex.map((number, index) => ({ number, index }));
    console.log('objectArr =', objectArr);
    
    //3. 오브젝트 배열을 이용하여 새로운 오브젝트 배열 만들기
    // 실제직업과 다릅니다.
    const friends = [
      {
        name: '양주진',
        age: 55,
        job: '코인러'
      },
      {
        name: '오영제',
        age: 42,
        job: '랩퍼'
      },
      {
        name: '서준형',
        age: 32,
        job: '2년차 유부남'
      }
    ];

    // 10년 후의 모습을 예상합니다.
    const tenYearsLaterFriends = friends.map((friend) => {
      // 나이는 10살씩 더 먹겠네요
      const returnObj = friend;
      returnObj.age += 10;
      
      // 새로운 직업을 갖고 있을 듯 합니다.
      let newJob;
      switch(returnObj.job) {
        case '코인러':
          newJob = '한강뷰 또는 한강속';
          break;
        case '2년차 유부남':
          newJob = '12년차 유부남';
          break;
        default:
          newJob = '무직';
          break;
      }
      returnObj.job = newJob;
      return returnObj;
    })

    console.log('10년 후 친구들.. ', tenYearsLaterFriends);

    // 1. 숫자/문자열 배열에서 중복 제거하기
    let values = [3, 1, 5, 56, 1, 3, 5, 2, 4, 4, 4];
    let uniqueValues = [...new Set(values)];
    console.log(`[3, 1, 5, 56, 1, 3, 5, 2, 4, 4, 4]중 유일한 배열은 [${uniqueValues}]`)
    // uniqueValues is [3,1,5,56,2,4]

    // 2. 간단한 검색(case-sensitive)
    let users = [
      { id: 11, name: 'Adam', age: 23, group: 'editor' },
      { id: 47, name: 'John', age: 28, group: 'admin' },
      { id: 85, name: 'WilliJam', age: 34, group: 'editor' },
      { id: 97, name: 'Oliver', age: 28, group: 'admin' }
    ];
    let res = users.filter(it => it.name.includes('a'));
    console.log(res)
    // res is []

    // 3. 간단한 검색(case-sensitive)
    res = users.filter(it => new RegExp('oli', "i").test(it.name));
    // res is
    console.log(res)
    //[
    //  { id: 97, name: 'Oliver', age: 28, group: 'admin' }
    //]


  </script>
  <div id="map" style="width:100%; height: 100vh;"></div>
  <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCR5mbBKg3zK-z_CLgWK2w9tV7rW62wXDI&callback=initMap&region=kr"></script>
  <script>
    function initMap() {
      var seoul = { lat: 37.5642135 ,lng: 127.0016985 };
      var map = new google.maps.Map(
        document.getElementById('map'), {
          zoom: 12,
          center: seoul
        });
    }
  </script>
</body>
</html>